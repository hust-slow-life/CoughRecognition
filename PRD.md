# CoughRecognition 产品需求文档 (PRD)

> 版本：1.0
> 创建时间：2026-01-21
> 最后更新：2026-01-21
> 状态：草案

---

## 一、产品概述

### 1.1 产品名称
CoughRecognition（咳嗽识别）

### 1.2 产品定位
**医疗辅助决策工具**：帮助家长记录孩子咳嗽情况，通过 AI 分析咳嗽类型，提供初步诊疗建议，辅助就医决策。

### 1.3 目标用户
| 用户类型 | 描述 |
|----------|------|
| 主要用户 | 有未成年孩子的父母 |
| 次要用户 | 祖父母、保姆等照护者 |

**用户特征**：
- 年龄跨度大（年轻父母到老年祖父母）
- 技术能力参差不齐
- 使用场景紧急（孩子正在咳嗽）

### 1.4 目标孩子
| 年龄段 | 范围 | 说明 |
|--------|------|------|
| 婴儿 | 0-1 岁 | 咳嗽声音特征独特 |
| 幼儿 | 1-3 岁 | 常见呼吸道疾病高发期 |
| 学龄前 | 3-6 岁 | 幼儿园集体生活易交叉感染 |
| 学龄 | 6-18 岁 | 咳嗽特征接近成人 |

**重要**：不同年龄段咳嗽声音特征差异大，模型需针对年龄段优化。

### 1.5 使用时机
- **触发条件**：孩子生病时
- **使用周期**：3 天 - 2 周
- **使用频率**：非日常应用，按需使用

### 1.6 平台
- iOS 应用（第一版）
- 最低支持版本：iOS 17.0

---

## 二、核心场景

### 2.1 场景一：主动录制分析（核心场景）

#### 用户故事
> 作为父母，当孩子正在咳嗽时，我希望能快速录下来，之后给医生听或让 AI 分析，帮助判断病情。

#### 典型流程
```
孩子咳嗽 → 父母打开 App → 按大按钮录制 → 录制 <10 秒 → 保存 → 可选分析
```

#### 功能需求

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| REC-01 | 一键快速录制（大按钮，极简操作） | P0 |
| REC-02 | 录制时长支持 <10 秒的短片段 | P0 |
| REC-03 | 录制完成后可立即分析或稍后分析 | P0 |
| REC-04 | 支持离线录制（无网络时也能录） | P0 |
| REC-05 | 录音文件支持分享（微信等） | P0 |
| REC-06 | 一段录音中多次咳嗽分别识别 | P1 |

#### 设计原则
- **极简**：按一个大按钮迅速记下来
- **快速**：不需要第一时间分析，先记录最重要
- **宽容**：可以录一部分，或第二次咳嗽时再录

---

### 2.2 场景二：后台监控模式

#### 用户故事
> 作为父母，当我晚上睡觉或不在孩子身边时，希望手机能自动监控并记录孩子的咳嗽/哭泣，事后我可以查看。

#### 典型场景
- 晚上父母睡觉，听不到孩子咳嗽
- 父母在另一个房间
- 孩子单独在房间睡觉/玩耍
- 父母临时外出

#### 功能需求

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| MON-01 | 手动开启/关闭监控 | P0 |
| MON-02 | 支持熄屏状态后台运行 | P0 |
| MON-03 | 检测到咳嗽时自动录制片段 | P0 |
| MON-04 | 检测到哭泣时自动录制片段 | P0 |
| MON-05 | 录制片段时长：检测点前后各 5 秒（共 10 秒） | P0 |
| MON-06 | 静默记录，不打扰（无通知声音） | P0 |
| MON-07 | 自动砍掉非咳嗽的静默语音段 | P0 |
| MON-08 | 录音片段可逐个回放 | P0 |
| MON-09 | 片段手动删除 | P0 |
| MON-10 | 连续多次咳嗽特殊提醒（设置项） | P2 |
| MON-11 | 咳嗽/哭泣优先级区分（设置项） | P2 |

#### 技术约束
- 手机放置位置：孩子旁边
- 预计一晚上产生几十个片段
- 不需要考虑存储空间限制

---

## 三、咳嗽分析

### 3.1 咳嗽分类

#### 基础分类（P0）
| 分类 | 描述 | 常见关联疾病 |
|------|------|--------------|
| 干咳 | 无痰或少痰的咳嗽 | 感冒初期、过敏、咽炎 |
| 湿咳 | 有痰的咳嗽 | 支气管炎、肺炎 |
| 连续咳 | 连续多声咳嗽 | 百日咳、哮喘 |
| 单声咳 | 偶发单声咳嗽 | 异物刺激、轻微感冒 |

#### 扩展分类（P1，尽可能细）
| 分类 | 描述 | 常见关联疾病 |
|------|------|--------------|
| 犬吠样咳 | 类似狗叫的咳嗽声 | 急性喉炎（假性哮吼） |
| 喘息性咳嗽 | 伴有喘息音 | 哮喘、毛细支气管炎 |
| 百日咳样咳 | 阵发性痉挛性咳嗽 | 百日咳 |
| 金属音咳嗽 | 高调金属样咳嗽 | 气管异物 |

#### 分析要求
- 一段录音中多次咳嗽：分别识别每次咳嗽
- 如识别到明确病症特征：可直接提醒用户

### 3.2 分析技术

| 项目 | 方案 |
|------|------|
| 分析位置 | 云端分析 |
| 离线支持 | 录制支持离线，分析需联网 |
| 年龄适配 | 根据选择的年龄段优化模型 |

---

## 四、AI 诊疗

### 4.1 功能描述

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| AI-01 | App 内置 AI 诊疗功能 | P1 |
| AI-02 | 结合咳嗽分析结果 + 病程信息提供建议 | P1 |
| AI-03 | 免责声明："仅供参考，不能替代医生诊断" | P0 |
| AI-04 | 支持分享音频+病程信息给外部 AI | P2 |

### 4.2 输入数据
- 咳嗽录音及分析结果
- 孩子年龄段
- 病程信息（症状、体温、用药等）
- 咳嗽次数及频率统计

### 4.3 输出内容
- 初步诊疗建议
- 是否建议就医
- 可能的疾病方向（仅供参考）

---

## 五、健康数据

### 5.1 孩子档案

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| PROF-01 | 设置孩子年龄段（婴儿/幼儿/学龄前/学龄） | P0 |
| PROF-02 | 支持多个孩子档案 | P2 |

### 5.2 健康日志

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| LOG-01 | 记录症状（发烧、流涕、咽痛等） | P1 |
| LOG-02 | 记录体温 | P1 |
| LOG-03 | 记录用药情况 | P1 |
| LOG-04 | 症状与咳嗽记录关联 | P1 |

### 5.3 设计原则
- 记录频率由用户自己决定
- 操作要简单快速

---

## 六、数据展示

### 6.1 历史记录

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| HIST-01 | 按天组织历史记录 | P0 |
| HIST-02 | 录音列表可逐个播放 | P0 |
| HIST-03 | 显示每条录音的分析结果 | P0 |
| HIST-04 | 支持手动删除录音 | P0 |

### 6.2 简单报告

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| RPT-01 | 咳嗽次数统计 | P1 |
| RPT-02 | 每个片段的咳嗽频率统计 | P1 |
| RPT-03 | 时间分布图表 | P2 |
| RPT-04 | 类型分布图表 | P2 |

---

## 七、就医辅助

### 7.1 给医生展示

| 需求ID | 需求描述 | 优先级 |
|--------|----------|--------|
| DOC-01 | 播放咳嗽录音（核心） | P0 |
| DOC-02 | 展示简单病程报告 | P1 |
| DOC-03 | 录音支持分享 | P0 |

### 7.2 使用场景
- 看诊时孩子没在咳嗽，医生可以听录音
- 父母查看 AI 建议，与医生建议对比
- 问诊时提供更多信息给医生

---

## 八、功能优先级汇总

### P0（必须有）
| 模块 | 功能 |
|------|------|
| 主动录制 | 一键快速录制、离线录制、录音分享 |
| 后台监控 | 手动开关、熄屏运行、咳嗽/哭泣检测、自动录制、静默记录 |
| 咳嗽分析 | 基础分类（干/湿/连续/单声） |
| 孩子档案 | 年龄段设置 |
| 历史记录 | 按天展示、播放、删除 |
| 就医辅助 | 播放录音、分享录音 |
| 免责声明 | AI 建议免责声明 |

### P1（应该有）
| 模块 | 功能 |
|------|------|
| 咳嗽分析 | 扩展分类、多次咳嗽分别识别 |
| AI 诊疗 | 内置诊疗建议 |
| 健康日志 | 症状、体温、用药记录 |
| 简单报告 | 咳嗽次数、频率统计 |
| 病程报告 | 展示给医生 |

### P2（可以有）
| 模块 | 功能 |
|------|------|
| 孩子档案 | 多孩子支持 |
| 后台监控 | 连续咳嗽提醒、优先级设置 |
| 外部 AI | 分享给外部 AI |
| 报告图表 | 时间分布、类型分布 |

### 暂不考虑
- 云端同步
- 多设备支持
- 社交分享
- 医生端功能
- 数据导出
- 自动开启监控

---

## 九、页面结构（草案）

```
App
├── 首页（主动录制）
│   ├── 大按钮：一键录制
│   ├── 年龄段选择（首次使用设置）
│   └── 最近录音快捷入口
│
├── 监控页
│   ├── 开始/停止监控按钮
│   ├── 监控状态显示
│   └── 今日检测统计
│
├── 历史页
│   ├── 按天分组的录音列表
│   ├── 每条录音：时间、类型、播放、分享、删除
│   └── 简单统计报告入口
│
├── 分析页（录音详情）
│   ├── 播放录音
│   ├── 咳嗽分析结果（类型、次数）
│   ├── AI 诊疗建议（带免责声明）
│   └── 分享按钮
│
└── 设置页
    ├── 孩子年龄段
    ├── 健康日志入口
    └── 关于/免责声明
```

---

## 十、非功能性需求

### 10.1 性能
| 项目 | 要求 |
|------|------|
| 录制启动 | <1 秒 |
| 分析响应 | <1 分钟（准确率优先于速度） |
| 后台监控 | 支持熄屏持续运行 |

### 10.2 数据隐私
- 第一版暂不考虑
- 后续版本需考虑本地处理 vs 云端处理

### 10.3 准确率
- 待定（需要根据数据集和模型测试确定基线）
- 咳嗽分类尽可能细，提高诊断参考价值

---

## 十一、设计原则

| 原则 | 说明 |
|------|------|
| **极简操作** | 大按钮一键录制，老人也能用 |
| **年龄适配** | 不同年龄段咳嗽特征不同，模型针对性优化 |
| **AI 辅助** | 咳嗽分类尽可能细，帮助 AI 做初步诊断 |
| **静默监控** | 后台监控不打扰，只记录 |
| **就医导向** | 核心是辅助就医，不是替代医生 |

---

## 十二、风险与对策

| 风险 | 对策 |
|------|------|
| 儿童咳嗽数据不足 | 按年龄段收集数据，迭代优化 |
| 环境噪音干扰 | 自动砍掉静默段，用户可标记误报 |
| 后台监听耗电 | 优化监听策略，提示用户充电使用 |
| 医疗责任风险 | 免责声明，定位为"辅助记录"而非"诊断" |
| 用户对 AI 准确率预期过高 | 明确说明仅供参考 |

---

## 十三、版本规划

### V1.0（MVP）
- 主动录制 + 基础分析
- 后台监控 + 自动录制
- 历史记录 + 播放分享
- 孩子年龄段设置

### V1.1
- AI 诊疗建议
- 健康日志
- 简单报告
- 扩展咳嗽分类

### V2.0（未来）
- 多孩子档案
- 外部 AI 对接
- 高级统计图表
- 数据隐私增强

---

## 十四、附录

### 相关文档
- [需求讨论.md](需求讨论.md)
- [需求澄清记录.md](需求澄清记录.md)
- [设计方案.md](设计方案.md)

### 修订记录
| 版本 | 日期 | 修订内容 |
|------|------|----------|
| 1.0 | 2026-01-21 | 初始版本，基于需求澄清结果创建 |

---
